<div class="book-catalog-container">
  <!-- Header -->
  <div class="catalog-header">
    <h1>Library Catalog</h1>
    <div class="header-actions">
    <!-- ðŸ†• Quick link to My Books -->
    <button mat-stroked-button (click)="viewMyBooks()">
      <img src="assets/icons/books.png" alt="books" class="book-icon">
      My Books
    </button>
    <button mat-raised-button color="primary" (click)="openFilterDialog()">
      <img src="assets/icons/search.png" alt="search" class="search-icon">
      Search / Filter
    </button>
  </div>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="loading()" class="loading-container">
    <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
    <p>Loading books...</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading() && books().length === 0" class="empty-state">
    <mat-icon class="empty-icon">library_books</mat-icon>
    <h2>No books found</h2>
    <p>Try adjusting your search filters.</p>
  </div>

  <!-- Book Grid -->
  <div *ngIf="!loading() && books().length > 0" class="book-grid">
    <mat-card *ngFor="let book of books()" class="book-card">
      <mat-card-header>
         <img src="assets/icons/book.png" alt="book-icon" class="book-avatar">
        <mat-card-title>{{ book.title }}</mat-card-title>
        <mat-card-subtitle>{{ book.author }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="book-info">
          <mat-chip class="genre-chip">{{ book.genre }}</mat-chip>
          <p class="availability">
            <img
              [src]="book.availableCopies > 0 ? 'assets/icons/available.png' : 'assets/icons/unavailable.png'"
              [alt]="book.availableCopies > 0 ? 'Available' : 'Unavailable'"
              class="availability-icon"
            />
            {{ book.availableCopies }} available
          </p>
        </div>
      </mat-card-content>
      

      <mat-card-actions>
        <button mat-button color="primary" (click)="viewBookDetails(book.id)">More Info</button>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- Pagination -->
  <mat-paginator
    *ngIf="!loading() && books().length > 0"
    [length]="totalElements()"
    [pageSize]="pageSize"
    [pageIndex]="currentPage()"
    [hidePageSize]="true"
    (page)="onPageChange($event)"
    showFirstLastButtons
  >
  </mat-paginator>
</div>
